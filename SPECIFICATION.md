Заглавие
---
Это спнцификация моего протокола одноранговой сети fedos2fedos.

Принцип работы
---
В этой сети пиры деляться на 2 типа:
* Те, которые за NAT
* Все остальные

Пиры, которые не находятся за nat будут дополнительно играть роль STUN сервера.
У каждого пира будет список всех его подключений. Каждый новый пир должен
входить в сеть через уже существующего пира. Новый пир должен взять половину
списка хостов того пира, через которго он заходит в сеть и взять по одному **не
имеющимуся в списке хостов начального пира** ip. После получения списка хостов, 
пир должен всем им отправить сообщение о том, что он появился в сети. После этих
действий пир может начать обробатывать запросы

Формат запроса
---
Общение между пирами будет осуществляться за счёт комманд, записанных в виде первого байта передоваемого запроса.\
Пример запроса:

|Комманда|Тело|
|:------:|:--:|
|0       |1234567890|

Итог: ```01234567890```

Формат ответа
---
Первым байтом должен быть байт комманды, на которую отвечают.
Следующие байты - тело ответа

Комманды
---
|Байт|Комманда|
|:--:|:------:|
|  0 |  PING  |
|  1 |  STUN  |
|  2 |  GET   |
|  3 |  HEY   |
|  4 |  DATA  |
|  5 | GETDATA|

Значение комманд:
* PING - Проверка пира на работоспособность. В ответ надо отправлять пакет не нулевого размера
* STUN - Получение ip и хоста пира. В ответе надо отправить ```ip:port``` в формате строки
* GET - Получить список подключений пира. Формат ответа: ```ip:port@ip:port```
* HEY - Запрос на добавление данных данного пира в список хостов пира. В ответ надо отправлять пакет не нулевого размера
* DATA - Отправка данных пирам. В теле запроса надо записать ```sha256 хэш данных:данные```. Нужно проверить базу на наличие хэша сообщений и если его в базе нет, то сохранить его и переслать это сообщение одной четвёртой части от известных рабочих пиров. Если пир первоисточник сообщения, то он должен отправить его всем пирам из своей базы.
* GETDATA - Получение данных по хэшу. В теле запроса надо записать ```ip пира:порт пира:sha 256 сообщения```. В ответ нужно отправить по адресу в сообщении данные с этим хэшем, если данные не найдены, то надо отправить это сообщение всем пирам из базы. Если менее чем через минуту с того же ip придёт сообщение с таким же хэшем, то сообщение следует проигнорировать.

Нюансы
---
* Длина получаемого пакета не должна быть больше 5 КБит.
* Каждую секунду всем пирам из базы, нужно отправлять сообщение PING.
